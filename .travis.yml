dist: xenial
language: node_js
node_js:
  - '7'

sudo: false
cache: yarn

env:
  global:
  - GIT_AUTHOR_NAME="Travis CI"
  - GIT_AUTHOR_EMAIL="maintainer@net.ict.e.titech.ac.jp"
  - secure: "Qcs2LdxGh3b5D0pRiggngHE4qMcwckTFR/mUQbOZ2qL7UMkz7SRmw0FOgYX0XnrR6dARdvKyTFZmfxRy+9A81KNWRdJP6B/M4+XYq6cy9VO5eBuv77jGCJBjxIpepS107fNru7mG41zMt12V6APCTCwke7xUC99hvfrBBWqp7CrXa19nHfgEshDXADyU/Jw4Ix8XOCZRn25WzR7T4ebGf6IXkUHBhhjq0Lt64Xij1+HFfGebxXVflYujudwbg8B0k9rU37nX2UEt2Fx1FhUKQUVAwQ+qR8MmrVECO9r9Y6aYKm8+a3ENb9CUAuYdlUY1bedUBQH+UOjm0zO/j6xjgbCtYLx3jyxhT6W+wp8Go9bdozFG66o9G9NpSLr7R3qOzhm1GilGSoTa1NwqyorZGpXZGaKAyzGtZFidJCVN8CFi5Svpf5h9F+0KM1EWHDUP+XRlQpxuAjMuBN9rz0giAuJEyuAfDb7iXEeqlkptkqf46Cl4laJ/hiFMR366MQwe7Uxl7gD/FWlTWGRzek9q5zAx7WHDJaH9yw7zk5lLcbnbB9HgHpFfuujm1bEV2cPcjSmVDBPbXP1gCKyMo8TCfTubBuOyoMxn+ysjld+aNTrOC+aCkp+1bNFCDMBJQdlBw6VXVRBcaSLGg5LFuXyqO1faiCtELP/mjyBHSGirBtw=" # encrypted GH_TOKEN (Generated by mi2428 on Mar., 2019)

branches:
  only:
    - master

before_script:
  - yarn

script:
  - yarn run gulp build

deploy:
  provider: pages
  skip_cleanup: true
  local_dir: public
  github-token: $GH_TOKEN
  keep-history: true
  on:
    branch: master
  repo: yamaoka-kitaguchi-lab/workshop.net.ict.e.titech.ac.jp
  target_branch: master
  fqdn: workshop.net.ict.e.titech.ac.jp
